{{- define "main" }}

<!-- 引入 Style 。注意路径，放在 static 目录-->
<link rel="stylesheet" href="/css/records.css">

{{- if not .IsHome | and .Title }}
<header class="page-header">
    {{- partial "breadcrumbs.html" . }}
    <h1>
        {{/* see: https://gohugo.io/variables/taxonomy/#taxonomy-terms-page-variables */}}
        {{- if eq .Kind "term" -}}{{- .Data.Singular }}: {{ end -}}
        {{ .Title -}}
    </h1>
    {{- if .Description }}
    <div class="post-description">
        {{ .Description | markdownify }}
    </div>
    {{- end }}
    {{- partial "inline_links.html" . -}}
</header>
{{- end }}

<!-- 获取本地 Json 数据 -->
{{ $books := getJSON "data/neodb/book_progress.json" }}

<div>
    {{ range $books.data }}
    {{ $title := .item.title}}
    {{ $book_url := .item.url }}
    {{ $cover := .item.cover_image_url }}
    {{ $cover_name := path.Base $cover }}
    {{ $summary := .item.comment_text }}

<div class="book-card">
    <div class="book-card-cover">
        <a href="https://neodb.social{{ $book_url }}" target="_blank">
            <div class="cover-wrapper">
                <img src="{{ $cover }}" alt="{{ $title }}" />
            </div>
        </a>
    </div>
    <div class="book-card-content">
        <div class="book-card-title">
            <a href="https://neodb.social{{ $book_url }}" target="_blank">{{ $title }}</a>
        </div>
        <div class="book-card-summary">
            {{ $summary }}
        </div>
    </div>
</div>


    <!-- <div class="post-info">
        <header class="entry-header">
            <h2>
                {{ $title }}
            </h2>
        </header>
        <section class="entry-content">
        <p>{{ $summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}</p>
        </section>

    </div>  -->
    
</div>


{{ end}}


{{- end }}{{- /* end main */ -}}